<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>ä½¿ç”¨fabric.js å¿«é€Ÿå¼€å‘ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨</title>
  
  <link rel="canonical" href="https://nihaojob.github.io/2022/10/17/fabric-vue-editor/">
  
  <meta name="description" content="æœ€è¿‘è‡ªå·±å¼€å‘äº†ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨ï¼ŒæŠŠæºç ä¹Ÿæ”¾åœ¨äº†GitHubä¸Šï¼Œé¡ºä¾¿ä¹Ÿæ€»ç»“ä¸‹ä½¿ç”¨fabric.jså¼€å‘ä¸€ä¸ªç¼–è¾‘å™¨éœ€è¦ç”¨åˆ°å“ªäº›çŸ¥è¯†ç‚¹ã€‚  é¢„è§ˆåœ°å€ï¼šhttps://nihaojob.github.io/vue-fabric-editor/ GitHubåœ°å€ï¼šhttps://github.com/nihao">
  
  
  <meta name="author" content="nihaojob@163.com">
  
  <meta property="og:image" content="https://nihaojob.github.ioundefined">
  
  <meta property="og:site_name" content="ç§¦å°‘å«çš„åšå®¢" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="ä½¿ç”¨fabric.js å¿«é€Ÿå¼€å‘ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨" />
  
  <meta property="og:description" content="æœ€è¿‘è‡ªå·±å¼€å‘äº†ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨ï¼ŒæŠŠæºç ä¹Ÿæ”¾åœ¨äº†GitHubä¸Šï¼Œé¡ºä¾¿ä¹Ÿæ€»ç»“ä¸‹ä½¿ç”¨fabric.jså¼€å‘ä¸€ä¸ªç¼–è¾‘å™¨éœ€è¦ç”¨åˆ°å“ªäº›çŸ¥è¯†ç‚¹ã€‚  é¢„è§ˆåœ°å€ï¼šhttps://nihaojob.github.io/vue-fabric-editor/ GitHubåœ°å€ï¼šhttps://github.com/nihao">
  
  <meta property="og:url" content="https://nihaojob.github.io/2022/10/17/fabric-vue-editor/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ä½¿ç”¨fabric.js å¿«é€Ÿå¼€å‘ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨">
  
  <meta name="twitter:description" content="æœ€è¿‘è‡ªå·±å¼€å‘äº†ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨ï¼ŒæŠŠæºç ä¹Ÿæ”¾åœ¨äº†GitHubä¸Šï¼Œé¡ºä¾¿ä¹Ÿæ€»ç»“ä¸‹ä½¿ç”¨fabric.jså¼€å‘ä¸€ä¸ªç¼–è¾‘å™¨éœ€è¦ç”¨åˆ°å“ªäº›çŸ¥è¯†ç‚¹ã€‚  é¢„è§ˆåœ°å€ï¼šhttps://nihaojob.github.io/vue-fabric-editor/ GitHubåœ°å€ï¼šhttps://github.com/nihao">
  
  
  <meta name="twitter:image" content="https://nihaojob.github.ioundefined">
  
  <meta name="twitter:url" content="https://nihaojob.github.io/2022/10/17/fabric-vue-editor/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="ç§¦å°‘å«çš„åšå®¢" type="application/atom+xml">
</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      ç§¦å°‘å«çš„åšå®¢
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">ä¸»é¡µ</a>
        
          
          <a href="/archives" class="ml">å½’æ¡£</a>
          
        
          
          <a href="/About" class="ml">å…³äº</a>
          
        
          
          <a href="/atom.xml" class="ml">RSS</a>
          
        
          
          <a target="_blank" rel="noopener" href="https://juejin.cn/user/3843548383549214" class="ml">æ˜é‡‘</a>
          
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>ä½¿ç”¨fabric.js å¿«é€Ÿå¼€å‘ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨</h2>

  <p>æœ€è¿‘è‡ªå·±å¼€å‘äº†ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨ï¼ŒæŠŠæºç ä¹Ÿæ”¾åœ¨äº†GitHubä¸Šï¼Œé¡ºä¾¿ä¹Ÿæ€»ç»“ä¸‹ä½¿ç”¨fabric.jså¼€å‘ä¸€ä¸ªç¼–è¾‘å™¨éœ€è¦ç”¨åˆ°å“ªäº›çŸ¥è¯†ç‚¹ã€‚</p>
<ul>
<li>é¢„è§ˆåœ°å€ï¼š<a href="https://nihaojob.github.io/vue-fabric-editor/">https://nihaojob.github.io/vue-fabric-editor/</a></li>
<li>GitHubåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor">https://github.com/nihaojob/vue-fabric-editor</a></li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88ca4329b4c24dcea91e624ccadf4127~tplv-k3u1fbpfcp-watermark.image" alt="Foxmail20220904011310.png"></p>
<h3 id="æ¶æ„è®¾è®¡"><a href="#æ¶æ„è®¾è®¡" class="headerlink" title="æ¶æ„è®¾è®¡"></a>æ¶æ„è®¾è®¡</h3><p><strong>é€‰å‹ï¼š</strong> fabric.js å’Œ konva.jséƒ½æ˜¯å¼ºå¤§çš„canvasåº“ï¼ŒåŠŸèƒ½ä¸Šç±»ä¼¼ï¼Œkonva.jsæ¯”è¾ƒæ–°ä¸­æ–‡æ–‡æ¡£ä¹Ÿå¤šä¸€äº›ï¼Œå› ä¸ºæ¯”è¾ƒç†Ÿæ‚‰fabricå°±æ²¡æœ‰é‡‡ç”¨konvaã€‚</p>
<p><strong>è¦ç‚¹ï¼š</strong> å› ä¸ºæ¡†æ¶ç”¨çš„vueï¼Œä¸»è¦è§£å†³å¦‚ä½•æŠŠfabricçš„å®ä¾‹å¯¹è±¡å…±äº«ç»™å„ä¸ªåŠŸèƒ½ç»„ä»¶ï¼ŒåŒºåˆ†å‡ºæ˜¯æœªé€‰ä¸­ã€å•é€‰ã€å¤šé€‰çŠ¶æ€ï¼Œç„¶åå°†é€‰ä¸­ã€å–æ¶ˆé€‰ä¸­äº‹ä»¶æš´éœ²ç»™å„ä¸ªåŠŸèƒ½ç»„ä»¶ï¼Œå­ç»„ä»¶æ ¹æ®çŠ¶æ€è¿›è¡Œç‹¬ç«‹çš„åŠŸèƒ½å¼€å‘ã€‚</p>
<p>æˆ‘çš„æ–¹æ³•æ˜¯åœ¨å…¥å£æ–‡ä»¶ä¸­åˆå§‹åŒ–å®ä¾‹ï¼Œç„¶åä¸mixinsç»“åˆï¼Œåœ¨mixinsä¸­å®šä¹‰äº†é€‰æ‹©ç±»å‹ï¼ˆå¤šé€‰ã€å•é€‰ã€æœªé€‰ä¸­ï¼‰ã€é€‰ä¸­å…ƒç´ ç±»å‹ã€é€‰ä¸­idç­‰å±æ€§ï¼Œä»¥åŠé€‰ä¸­ã€å–æ¶ˆé€‰ä¸­çš„äº‹ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡å¼•å…¥mixinsæ¥å¼€å‘å¯¹åº”åŠŸèƒ½ï¼›å¦‚å­ç»„ä»¶éœ€è¦å¯¹fabricå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œåˆ™å¯ä»¥é€šè¿‡injectè·å¾—åŸå§‹å¯¹è±¡ã€‚</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/97d79b361a2549eea30d199e59b36344~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>å…¥å£æ–‡ä»¶ï¼š<br><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/161faae7b0adcf6f55d9efaa38cb6d7c6d2c01b5/src/views/HomeView.vue#L113">https://github.com/nihaojob/vue-fabric-editor/blob/161faae7b0adcf6f55d9efaa38cb6d7c6d2c01b5/src/views/HomeView.vue#L113</a></p>
<p>mixinsæ–‡ä»¶ï¼š<br><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/mixins/select.js">https://github.com/nihaojob/vue-fabric-editor/blob/main/src/mixins/select.js</a></p>
<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>åˆå§‹åŒ–æ¯”è¾ƒç®€å•ï¼Œfabric.jsåˆ›å»ºå¯¹è±¡ï¼Œç”¨EventEmitteråˆ›å»ºäº‹ä»¶å‘å°„å™¨ï¼Œå¯è®¢é˜…å•é€‰ã€å¤šé€‰ã€å–æ¶ˆé€‰æ‹©äº‹ä»¶ã€‚<br>é€šè¿‡vueçš„provideè¯­æ³•æŠŠfabricå¯¹è±¡ã€EventEmitterå¯¹è±¡å‘ä¸‹ä¼ é€’ï¼Œåœ¨mixinsä¸­ä¿å­˜é€‰ä¸­çš„å…ƒç´ å’Œé€‰ä¸­çŠ¶æ€ã€‚</p>
<p><strong>åˆå§‹åŒ–ï¼š</strong><br><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/161faae7b0adcf6f55d9efaa38cb6d7c6d2c01b5/src/views/HomeView.vue#L111">https://github.com/nihaojob/vue-fabric-editor/blob/161faae7b0adcf6f55d9efaa38cb6d7c6d2c01b5/src/views/HomeView.vue#L111</a></p>
<p><strong>äº‹ä»¶å‘å°„å™¨ï¼š</strong></p>
<pre class="line-numbers language-none"><code class="language-none">import EventEmitter from &#39;events&#39;

class EventHandle extends EventEmitter &#123;

    init(handler)&#123;
        this.handler &#x3D; handler
        this.handler.on(&quot;selection:created&quot;, (e) &#x3D;&gt; this._selected(e));
        this.handler.on(&quot;selection:updated&quot;,  (e) &#x3D;&gt; this._selected(e));
        this.handler.on(&quot;selection:cleared&quot;, (e) &#x3D;&gt; this._selected(e));
    &#125;

    &#x2F;&#x2F; æš´éœ²å•é€‰å¤šé€‰äº‹ä»¶
    _selected(e) &#123;
        const actives &#x3D; this.handler.getActiveObjects()
        if(actives &amp;&amp; actives.length &#x3D;&#x3D;&#x3D; 1) &#123;
            this.emit(&#39;selectOne&#39;, actives)
        &#125;else if(actives &amp;&amp; actives.length &gt; 1)&#123;
            this.mSelectMode &#x3D; &#39;multiple&#39;
            this.emit(&#39;selectMultiple&#39;, actives)
        &#125;else&#123;
            this.emit(&#39;selectCancel&#39;)
        &#125;
    &#125;
&#125;

export default EventHandle<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>mixins:</strong></p>
<pre class="line-numbers language-none"><code class="language-none">export default &#123;
  inject: [&#39;canvas&#39;, &#39;fabric&#39;, &#39;event&#39;],
  data() &#123;
    return &#123;
      mSelectMode: &#39;&#39;, &#x2F;&#x2F; one | multiple
      mSelectOneType: &#39;&#39;, &#x2F;&#x2F; i-text | group ...
      mSelectId: &#39;&#39;, &#x2F;&#x2F; é€‰æ‹©id
      mSelectIds: [], &#x2F;&#x2F; é€‰æ‹©id
    &#125;
  &#125;,
  created()&#123;
    this.event.on(&#39;selectOne&#39;, (e) &#x3D;&gt; &#123;
      this.mSelectMode &#x3D; &#39;one&#39;
      this.mSelectId &#x3D; e[0].id
      this.mSelectOneType &#x3D; e[0].type
      this.mSelectIds &#x3D; e.map(item &#x3D;&gt; item.id)
    &#125;)

    this.event.on(&#39;selectMultiple&#39;, (e) &#x3D;&gt; &#123;
      this.mSelectMode &#x3D; &#39;multiple&#39;
      this.mSelectId &#x3D; &#39;&#39;
      this.mSelectIds &#x3D; e.map(item &#x3D;&gt; item.id)
    &#125;)

    this.event.on(&#39;selectCancel&#39;, () &#x3D;&gt; &#123;
      this.mSelectId &#x3D; &#39;&#39;
      this.mSelectIds &#x3D; []
      this.mSelectMode &#x3D; &#39;&#39;
      this.mSelectOneType &#x3D; &#39;&#39;
    &#125;)
  &#125;,
  methods: &#123;
    &#x2F;**
     * @description: ä¿å­˜dataæ•°æ®
     * @param &#123;Object&#125; data æˆ¿é—´è¯¦æƒ…æ•°æ®
     *&#x2F;
    _mixinSelected(&#123; event, selected &#125;) &#123;
      if(selected.length &#x3D;&#x3D;&#x3D; 1) &#123;
        const selectItem &#x3D; selected[0]
        this.mSelectMode &#x3D; &#39;one&#39;
        this.mSelectOneType &#x3D; selectItem.type
        this.mSelectId &#x3D; [selectItem.id]
        this.mSelectActive &#x3D; [selectItem]
      &#125;else if(selected.length &gt; 1)&#123;
        this.mSelectMode &#x3D; &#39;multiple&#39;
        this.mSelectActive &#x3D; selected
        this.mSelectId &#x3D; selected.map(item &#x3D;&gt; item.id)
      &#125;else&#123;
        this._mixinCancel()
      &#125;
    &#125;,
    &#x2F;**
     * @description: ä¿å­˜dataæ•°æ®
     * @param &#123;Object&#125; data æˆ¿é—´è¯¦æƒ…æ•°æ®
     *&#x2F;
     _mixinCancel(data) &#123;
      this.mSelectMode &#x3D;&#39;&#39;
      this.mSelectId&#x3D; []
      this.mSelectActive &#x3D;[]
      this.mSelectOneType &#x3D; &#39;&#39;
    &#125;,
  &#125;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="èƒŒæ™¯è®¾ç½®"><a href="#èƒŒæ™¯è®¾ç½®" class="headerlink" title="èƒŒæ™¯è®¾ç½®"></a>èƒŒæ™¯è®¾ç½®</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2286f31ad81545579f8a0a4caf060d60~tplv-k3u1fbpfcp-watermark.image" alt="èƒŒæ™¯.gif"><br>ä¸»è¦åŒ…æ‹¬è®¾ç½®ç”»å¸ƒå¤§å°ã€è®¾ç½®èƒŒæ™¯é¢œè‰²ã€è®¾ç½®èƒŒæ™¯å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®èƒŒæ™¯é‡å¤æ–¹å‘ã€‚<br><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/bgBar.vue">ä»£ç ï¼š</a></p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; è®¾ç½®å¤§å°
setSize() &#123;
      this.canvas.c.setWidth(this.width);
      this.canvas.c.setHeight(this.height);
      this.canvas.c.renderAll()
&#125;,
&#x2F;&#x2F; è®¾ç½®èƒŒæ™¯å›¾ç‰‡
setBgImg(target) &#123;
      const imgEl &#x3D; target.cloneNode(true);
      imgEl.onload &#x3D; () &#x3D;&gt; &#123;
        &#x2F;&#x2F; å¯è·¨åŸŸè®¾ç½®
        const imgInstance &#x3D; new this.fabric.Image(imgEl, &#123; crossOrigin: &#39;anonymous&#39; &#125;);
        &#x2F;&#x2F; æ¸²æŸ“èƒŒæ™¯
        this.canvas.c.setBackgroundImage(imgInstance, this.canvas.c.renderAll.bind(this.canvas.c), &#123;
          scaleX: this.canvas.c.width &#x2F; imgInstance.width,
          scaleY: this.canvas.c.width &#x2F; imgInstance.width,
        &#125;);
        this.canvas.c.renderAll()
        this.canvas.c.requestRenderAll();
      &#125;
&#125;,
&#x2F;&#x2F; èƒŒæ™¯é¢œè‰²è®¾ç½®
setColor(color) &#123;
      this.canvas.c.setBackgroundColor(color, this.canvas.c.renderAll.bind(this.canvas.c))
      this.canvas.c.backgroundImage &#x3D; &#39;&#39;
      this.canvas.c.renderAll()
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="æ’å…¥å…ƒç´ "><a href="#æ’å…¥å…ƒç´ " class="headerlink" title="æ’å…¥å…ƒç´ "></a>æ’å…¥å…ƒç´ </h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43d110915d044f91818a238df07bf767~tplv-k3u1fbpfcp-watermark.image" alt="æ’å…¥å…ƒç´ .gif"><br>ä¸»è¦åŒ…æ‹¬æ’å…¥åŸºç¡€å…ƒç´ æ–‡å­—ã€æ­£æ–¹å½¢ã€åœ†å½¢ã€ä¸‰è§’å½¢ã€SVGå…ƒç´ ï¼Œè¯¦è§<a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/tools.vue#L122">ä»£ç </a>ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">addText() &#123;
      const text &#x3D; new this.fabric.IText(&#39;ä¸‡äº‹å¤§å‰&#39;, &#123;
        ...defaultPosition,
        fontSize: 40, id: uuid(),
      &#125;);
      this.canvas.c.add(text)
      this.canvas.c.setActiveObject(text);
&#125;,
addTriangle() &#123;
      const triangle &#x3D; new this.fabric.Triangle(&#123;
        top: 100,
        left: 100,
        width: 100,
        height: 100,
        fill: &#39;#92706B&#39;
      &#125;)
      this.canvas.c.add(triangle)
      this.canvas.c.setActiveObject(triangle);
&#125;,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¼å…¥SVGå…ƒç´ æ—¶ï¼Œå¯ä»¥å¯¼å…¥SVGæ–‡ä»¶æˆ–è€…å­—ç¬¦ä¸²è¿›è¡Œå¯¼å…¥ï¼Œè°ƒç”¨fabricçš„loadSVGFromURLã€loadSVGFromStringæ–¹æ³•è¿›è¡Œå¯¼å…¥ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/importSvg.vue">è¯¦è§ä»£ç </a>ã€‚</p>
<h3 id="å±æ€§è°ƒæ•´"><a href="#å±æ€§è°ƒæ•´" class="headerlink" title="å±æ€§è°ƒæ•´"></a>å±æ€§è°ƒæ•´</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e780a1c7c0414f0896bf80ca69b4a35c~tplv-k3u1fbpfcp-watermark.image" alt="å±æ€§è°ƒæ•´.gif"><br>ä¸åŒå…ƒç´ çš„å±æ€§ä¼šæœ‰å·®å¼‚ï¼Œä½†é€šç”¨å±æ€§æ˜¯ä¸€è‡´çš„ï¼Œå¦‚å¡«å……é¢œè‰²ã€åæ ‡ã€æ—‹è½¬è§’åº¦ã€é€æ˜åº¦ç­‰ï¼Œä¹Ÿæœ‰å¾ˆå¤šç‰¹å®šå…ƒç´ çš„ç‰¹å®šå±æ€§ï¼Œå¦‚æ–‡å­—çš„å­—ä½“å±æ€§ã€å›¾ç‰‡çš„æ»¤é•œå±æ€§ç­‰ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/attribute.vue">è¯¦è§ä»£ç </a>ã€‚<br>å­—ä½“å±æ€§å¯ä»¥è‡ªå®šä¹‰å­—ä½“ï¼Œéœ€è¦å…ˆä¸‹è½½å­—ä½“åå†è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥é€šè¿‡fontfaceobserverå·¥å…·åº“ä¸‹è½½æŒ‡å®šå­—ä½“ï¼ŒæˆåŠŸååœ¨è®¾ç½®å­—ä½“åç§°ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; å­—ä½“åŠ è½½
var font &#x3D; new FontFaceObserver(fontName);
font.load(null, 150000).then(() &#x3D;&gt; &#123;
    const activeObject &#x3D; this.canvas.c.getActiveObjects()[0]
    activeObject &amp;&amp; activeObject.set(&#39;fontFamily&#39;, fontName);
    this.canvas.c.renderAll()
    this.$Spin.hide();
&#125;).catch((err) &#x3D;&gt; &#123;
    this.$Spin.hide();
&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å…ƒç´ å¯¹é½"><a href="#å…ƒç´ å¯¹é½" class="headerlink" title="å…ƒç´ å¯¹é½"></a>å…ƒç´ å¯¹é½</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9dd4ffa48d104810b895c82c705701d2~tplv-k3u1fbpfcp-watermark.image" alt="å¯¹é½.gif"><br>å…ƒç´ å¯¹é½åŒºåˆ†å•é€‰å…ƒç´ ä¸å¤šé€‰å…ƒç´ ï¼Œå•é€‰å…ƒç´ æ—¶åªæ”¯æŒç›¸å¯¹äºç”»å¸ƒæ°´å¹³ã€å‚ç›´ã€æ°´å¹³å‚ç›´å¯¹é½ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; nameä¸º centerH | centerV | center
position(name)&#123;
  const activeObject &#x3D; this.canvas.c.getActiveObject()
  if(activeObject)&#123;
    activeObject[name]()
    this.canvas.c.renderAll()
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¤šå…ƒç´ å¯¹é½æœ‰ä¸Šä¸‹å·¦å³å¯¹é½ã€æ°´å¹³ã€å‚ç›´å¯¹é½ï¼Œä¸»è¦æ˜¯é€šè¿‡è·å¾—æœ€è¾¹ç¼˜å…ƒç´ çš„åæ ‡ï¼Œç„¶åè¿›è¡Œè®¡ç®—æ’åºï¼Œå¦‚é¡¶éƒ¨å¯¹é½ä»£ç ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">const activeObject &#x3D; this.canvas.c.getActiveObject();
  if (activeObject &amp;&amp; activeObject.type &#x3D;&#x3D;&#x3D; &#39;activeSelection&#39;) &#123;
        const activeSelection &#x3D; activeObject;
        console.log(activeSelection)
        const activeObjectTop &#x3D; -(activeObject.height &#x2F; 2);
        activeSelection.forEachObject(item &#x3D;&gt; &#123;
          item.set(&#123;
                top: activeObjectTop,
            &#125;);
            item.setCoords();
            this.canvas.c.renderAll();
        &#125;);
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¹³å‡åˆ†é…ä¼šå¤æ‚ä¸€äº›ï¼Œéœ€è¦è®¡ç®—å‡ºè¾¹ç¼˜ä¸å…ƒç´ é—´è·ï¼Œå†è¿›è¡Œè®¾ç½®ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/align.vue">è¯¦è§ä»£ç </a>ã€‚</p>
<h3 id="å…¶ä»–ç”¨æ³•"><a href="#å…¶ä»–ç”¨æ³•" class="headerlink" title="å…¶ä»–ç”¨æ³•"></a>å…¶ä»–ç”¨æ³•</h3><p>ç¼–è¾‘å™¨ç»å¸¸éœ€è¦ç»™å…ƒç´ è¿›è¡Œåˆ†ç»„/æ‹†åˆ†ç»„åˆã€è°ƒæ•´å±‚çº§ã€å›é€€ã€å¿«æ·é”®ã€ç”»å¸ƒæ”¾å¤§/ç¼©å°ã€å¯¼å…¥/å¯¼å‡ºæ–‡ä»¶ç­‰åŠŸèƒ½ï¼Œä¸å†ä¸€ä¸€ç½—åˆ—ï¼Œè¿™ä¸ªå°ç¼–è¾‘å™¨éƒ½å·²ç»æ”¯æŒï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹æºç ã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/group.vue">ç»„åˆ</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/layer.vue">å±‚çº§è°ƒæ•´</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/plugin/hotkeys.js">å¿«æ·é”®å®ç°</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/zoom.vue">ç”»å¸ƒæ”¾å¤§ç¼©å°</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor/blob/main/src/components/save.vue">å¯¼å…¥/å¯¼å‡º</a></li>
</ul>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>fabric.jsçš„åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„å¼€å‘å‡ºä¸€ä¸ªç®€ç‰ˆçš„å›¾ç‰‡ç¼–è¾‘å™¨ï¼Œè‡ªå®šä¹‰ç´ æã€æ¨¡æ¿ã€å­—ä½“æ–‡ä»¶ï¼›è¿˜å¯ä»¥ç»“åˆæ•°æ®æ¥å£æ‹¼æ¥æ¨¡æ¿ç”Ÿæˆå›¾ç‰‡ï¼Œå¾ˆè½»æ¾çš„å®ç°å®šåˆ¶æ¨¡æ¿ + ç”Ÿæˆå›¾ç‰‡çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æˆ‘çš„æœ‹å‹å€ŸåŠ©æˆ‘çš„åŠŸèƒ½ + æˆè¯­æ¥å£ç”Ÿæˆæˆè¯­å›¾ç‰‡ï¼Œåœ¨å°çº¢ä¹¦ä¸Šæ–©è·äº†å…«åƒå¤šçš„ç²‰ä¸ã€‚</p>
<p>æœ€åå¸Œæœ›å¤§å®¶èƒ½å¤Ÿé€šè¿‡è¿™ä¸ªé¡¹ç›®å­¦ä¹ åˆ°fabric.jsçš„åŸºç¡€ç”¨æ³•ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥ä¸€èµ·ç»´æŠ¤è¿™æ¬¾å°ç¼–è¾‘å™¨ï¼Œæ¬¢è¿starã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/nihaojob/vue-fabric-editor">https://github.com/nihaojob/vue-fabric-editor</a></p>

  <p> â€” 2022å¹´10æœˆ17æ—¥</p>
  


          <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith" style="color: #c7c7c7;">é™æ°´æµæ·±ï¼Œé—»å–§äº«é™ã€‚ç©ºå±±é¸£å“ï¼Œè§æƒ¯å¸ç©ºã€‚
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/nihaojob" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
