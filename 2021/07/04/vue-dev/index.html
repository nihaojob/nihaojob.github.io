<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>ç¦»èŒåæ‰ææ‡‚vueé¡¹ç›®å¼€å‘æµç¨‹ä¸­çš„ç–‘æƒ‘ç‚¹</title>
  
  <link rel="canonical" href="https://nihaojob.github.io/2021/07/04/vue-dev/">
  
  <meta name="description" content="åœ¨ç¦»èŒçš„æœ€åä¸€ä¸ªæœˆï¼Œå¸®ä¸¤ä½åŒäº‹ç”³è¯·åŠ è–ªï¼Œç¡®åˆ‡çš„è¯´ï¼Œç”³è¯·åŠ è–ªæ˜¯å¯¼ç«ç´¢ï¼Œæˆ‘è¢«æ‰£ä¸Šäº†å“„æŠ¬åŒäº‹å·¥èµ„ä»¥æé«˜è‡ªå·±å·¥èµ„çš„å¸½å­ï¼Œåœ¨æ¨åŠ¨å‰åç«¯åˆ†ç¦»å·¥ä½œä¸­å¤„å¤„ç¢°å£ï¼Œç‚¹ç‡ƒäº†å‹æŠ‘è®¸ä¹…çš„ç¦»èŒå†²åŠ¨ï¼Œé¢†å¯¼åŸ¹å…»è‡ªå·±å››äº”å¹´ï¼Œä¸è®©å£°å¼ ï¼Œç­”åº”æ‚„æ‚„ç¦»å¼€ã€‚ ç¦»å¼€æ—¶åŸæ¥å…¬å¸é¡¹ç›®é‡Œå‰©ä¸‹å¾ˆå¤šé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œç°åœ¨è‡ªå·±è¿˜åœ¨åšvueå’ŒåŠ¨ç”»çš„é¡¹ç›®ï¼Œç°åœ¨æˆ–è®¸">
  
  
  <meta name="author" content="nihaojob@163.com">
  
  <meta property="og:image" content="https://nihaojob.github.ioundefined">
  
  <meta property="og:site_name" content="ç§¦å°‘å«çš„åšå®¢" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="ç¦»èŒåæ‰ææ‡‚vueé¡¹ç›®å¼€å‘æµç¨‹ä¸­çš„ç–‘æƒ‘ç‚¹" />
  
  <meta property="og:description" content="åœ¨ç¦»èŒçš„æœ€åä¸€ä¸ªæœˆï¼Œå¸®ä¸¤ä½åŒäº‹ç”³è¯·åŠ è–ªï¼Œç¡®åˆ‡çš„è¯´ï¼Œç”³è¯·åŠ è–ªæ˜¯å¯¼ç«ç´¢ï¼Œæˆ‘è¢«æ‰£ä¸Šäº†å“„æŠ¬åŒäº‹å·¥èµ„ä»¥æé«˜è‡ªå·±å·¥èµ„çš„å¸½å­ï¼Œåœ¨æ¨åŠ¨å‰åç«¯åˆ†ç¦»å·¥ä½œä¸­å¤„å¤„ç¢°å£ï¼Œç‚¹ç‡ƒäº†å‹æŠ‘è®¸ä¹…çš„ç¦»èŒå†²åŠ¨ï¼Œé¢†å¯¼åŸ¹å…»è‡ªå·±å››äº”å¹´ï¼Œä¸è®©å£°å¼ ï¼Œç­”åº”æ‚„æ‚„ç¦»å¼€ã€‚ ç¦»å¼€æ—¶åŸæ¥å…¬å¸é¡¹ç›®é‡Œå‰©ä¸‹å¾ˆå¤šé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œç°åœ¨è‡ªå·±è¿˜åœ¨åšvueå’ŒåŠ¨ç”»çš„é¡¹ç›®ï¼Œç°åœ¨æˆ–è®¸">
  
  <meta property="og:url" content="https://nihaojob.github.io/2021/07/04/vue-dev/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ç¦»èŒåæ‰ææ‡‚vueé¡¹ç›®å¼€å‘æµç¨‹ä¸­çš„ç–‘æƒ‘ç‚¹">
  
  <meta name="twitter:description" content="åœ¨ç¦»èŒçš„æœ€åä¸€ä¸ªæœˆï¼Œå¸®ä¸¤ä½åŒäº‹ç”³è¯·åŠ è–ªï¼Œç¡®åˆ‡çš„è¯´ï¼Œç”³è¯·åŠ è–ªæ˜¯å¯¼ç«ç´¢ï¼Œæˆ‘è¢«æ‰£ä¸Šäº†å“„æŠ¬åŒäº‹å·¥èµ„ä»¥æé«˜è‡ªå·±å·¥èµ„çš„å¸½å­ï¼Œåœ¨æ¨åŠ¨å‰åç«¯åˆ†ç¦»å·¥ä½œä¸­å¤„å¤„ç¢°å£ï¼Œç‚¹ç‡ƒäº†å‹æŠ‘è®¸ä¹…çš„ç¦»èŒå†²åŠ¨ï¼Œé¢†å¯¼åŸ¹å…»è‡ªå·±å››äº”å¹´ï¼Œä¸è®©å£°å¼ ï¼Œç­”åº”æ‚„æ‚„ç¦»å¼€ã€‚ ç¦»å¼€æ—¶åŸæ¥å…¬å¸é¡¹ç›®é‡Œå‰©ä¸‹å¾ˆå¤šé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œç°åœ¨è‡ªå·±è¿˜åœ¨åšvueå’ŒåŠ¨ç”»çš„é¡¹ç›®ï¼Œç°åœ¨æˆ–è®¸">
  
  
  <meta name="twitter:image" content="https://nihaojob.github.ioundefined">
  
  <meta name="twitter:url" content="https://nihaojob.github.io/2021/07/04/vue-dev/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="ç§¦å°‘å«çš„åšå®¢" type="application/atom+xml">
</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      ç§¦å°‘å«çš„åšå®¢
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">ä¸»é¡µ</a>
        
          
          <a href="/archives" class="ml">å½’æ¡£</a>
          
        
          
          <a target="_blank" rel="noopener" href="https://juejin.cn/user/3843548383549214" class="ml">æ˜é‡‘</a>
          
        
          
          <a href="/About" class="ml">ç®€ä»‹</a>
          
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>ç¦»èŒåæ‰ææ‡‚vueé¡¹ç›®å¼€å‘æµç¨‹ä¸­çš„ç–‘æƒ‘ç‚¹</h2>

  <p>åœ¨ç¦»èŒçš„æœ€åä¸€ä¸ªæœˆï¼Œå¸®ä¸¤ä½åŒäº‹ç”³è¯·åŠ è–ªï¼Œç¡®åˆ‡çš„è¯´ï¼Œç”³è¯·åŠ è–ªæ˜¯å¯¼ç«ç´¢ï¼Œæˆ‘è¢«æ‰£ä¸Šäº†å“„æŠ¬åŒäº‹å·¥èµ„ä»¥æé«˜è‡ªå·±å·¥èµ„çš„å¸½å­ï¼Œåœ¨æ¨åŠ¨å‰åç«¯åˆ†ç¦»å·¥ä½œä¸­å¤„å¤„ç¢°å£ï¼Œç‚¹ç‡ƒäº†å‹æŠ‘è®¸ä¹…çš„ç¦»èŒå†²åŠ¨ï¼Œé¢†å¯¼åŸ¹å…»è‡ªå·±å››äº”å¹´ï¼Œä¸è®©å£°å¼ ï¼Œç­”åº”æ‚„æ‚„ç¦»å¼€ã€‚</p>
<p>ç¦»å¼€æ—¶åŸæ¥å…¬å¸é¡¹ç›®é‡Œå‰©ä¸‹å¾ˆå¤šé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œç°åœ¨è‡ªå·±è¿˜åœ¨åšvueå’ŒåŠ¨ç”»çš„é¡¹ç›®ï¼Œç°åœ¨æˆ–è®¸ä¹‹å‰çš„é—®é¢˜å·²ç»è§£å†³äº†ï¼Œä½†æˆ‘è¿˜æ˜¯æŠŠæ€è·¯å†™ä¸‹æ¥ï¼Œä¹Ÿç®—å¯¹çš„èµ·è‡ªå·±æ‚„æ‚„ç¦»èŒçš„äº‹æƒ…äº†ï¼Œçœ‹åˆ°ä½ ä»¬è·å¾—ä¼˜ç§€å›¢é˜Ÿå¥–çš„ç…§ç‰‡äº†ï¼Œå¾ˆæ£’ï¼Œç¥ç¦ä½ ä»¬ğŸ‘ğŸ‘ğŸ‘ğŸ‘ã€‚</p>
<h3 id="è‡ªåŠ¨éƒ¨ç½²"><a href="#è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="è‡ªåŠ¨éƒ¨ç½²"></a>è‡ªåŠ¨éƒ¨ç½²</h3><p>è¿™è¾¹ç”¨çš„æ˜¯gitLabåšgitæœåŠ¡å™¨ï¼Œå¯ä»¥é…ç½®commitçš„é’©å­å‡½æ•°ï¼Œå®ç°è‡ªåŠ¨éƒ¨ç½²å’Œçº¿ä¸Šå‘å¸ƒï¼Œå°±ç›¸å½“æœåŠ¡å™¨ç›‘å¬ä½ çš„æäº¤ï¼Œåœ¨ä½ commitä¹‹åï¼ŒæœåŠ¡å™¨è‡ªåŠ¨æ‰§è¡Œäº†ä¸€ä¸‹<code>npm run build</code>ï¼Œæ”¾åˆ°å¯¹åº”çš„æµ‹è¯•æœåŠ¡å™¨ç›®å½•ï¼Œé…ç½®æ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹æœ‰<code>.gitlab-ci.yml</code>æ–‡ä»¶ï¼Œèµ·ä½œç”¨çš„æ˜¯ä¸‹è¾¹ä¸€æ®µä»£ç ï¼Œ<code>script</code>æ˜¯linuxè„šæœ¬ï¼Œæ‹·è´æ–‡ä»¶åˆ°æŒ‡å®šçš„é™æ€èµ„æºCDNç›®å½•å’ŒwebæœåŠ¡å™¨ç›®å½•ï¼Œè¿™å—çŸ¥è¯†ç‚¹æ˜¯<code>gitlab-ci æŒç»­é›†æˆ</code>ï¼Œå¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œsvnåº”è¯¥ä¹Ÿæœ‰ç±»ä¼¼çš„é…ç½®ï¼Œè®©è¿ç»´å¸®å¿™ç»™é…ä¸€ä¸‹å§ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">npm-build-test:
  image: cdnè·¯å¾„
  stage: build
  cache:
    untracked: true
    paths:
      - node_modules&#x2F;
  before_script:
    - export BI_ENV&#x3D;&quot;test&quot;
  script:
    - &quot;npm install --registry&#x3D;http:&#x2F;&#x2F;ä»£ç†åœ°å€ --sass_binary_site&#x3D;https:&#x2F;&#x2F;npm.taobao.org&#x2F;mirrors&#x2F;node-sass&#x2F;&quot; 
    - &quot;npm run build&quot;
    - &quot;rsync -auvz dist&#x2F;index.html  ip::æœåŠ¡å™¨å¼€å‘åˆ†æ”¯ç›®å½•&#x2F;trunk&#x2F;resources&#x2F;views&#x2F;index&#x2F;&quot;
    - &quot;rsync -auvz dist&#x2F;* é™æ€èµ„æºcdnç›®å½•&#x2F;trunk&#x2F;bi&#x2F;&quot;
  only:
    - master  åˆ†æ”¯åç§°
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ç‰ˆæœ¬ç®¡ç†"><a href="#ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="ç‰ˆæœ¬ç®¡ç†"></a>ç‰ˆæœ¬ç®¡ç†</h3><p>ä»¥å‰å’±ä»¬ç»å¸¸å‡ºç°è¿™ç§æƒ…å†µï¼Œ v0.1çš„éœ€æ±‚å·²ç»ä¸Šçº¿ï¼Œv0.2çš„éœ€æ±‚å·²ç»ææµ‹äº†ï¼Œv0.3çš„éœ€æ±‚åœ¨å¼€å‘ä¸­ï¼Œç°åœ¨è¦ä¿®å¤ä¸€ä¸‹v1.0çš„çº¿ä¸Šbugï¼Œç”¨svnçš„è¯å¯èƒ½å°±æ˜¯æŠŠä¿®å¤åçš„æ–‡ä»¶æ›´æ–°åˆ°ä¸‰ä¸ªåˆ†æ”¯ä¸Šç»§ç»­å¼€å‘ï¼Œæ›´æ–°æ¥æ›´æ–°å»å°±<code>lock</code>äº†ã€‚</p>
<p>å¦‚æœç”¨gitåšç‰ˆæœ¬ç®¡ç†ï¼Œå°±æ–¹ä¾¿å¾ˆå¤šï¼ŒæŒ‰ç…§åˆ†æ”¯è§„èŒƒï¼Œå¸¸ç”¨4ä¸ªåˆ†æ”¯ï¼Œ<br><code>Develop</code>æŒç»­å¼€å‘åˆ†æ”¯ï¼Œ<code>Release</code>ç‰ˆæœ¬åˆ†æ”¯ï¼Œ<br><code>Hotfix</code>ç´§ç´§çƒ­ä¿®å¤åˆ†æ”¯ï¼Œ<code>Master</code>ä¸Šçº¿ç‰ˆæœ¬ä¸»åˆ†æ”¯ï¼Œ<br>å¯ä»¥çœ‹çœ‹<code>GitFlowå·¥ä½œæµ</code>æ–¹é¢çš„èµ„æ–™ï¼ŒçœŸçš„æ¯”svnçš„åˆ†æ”¯å¥½ç”¨å¤ªå¤šäº†ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/24/1687b99acf98287f?w=614&h=380&f=png&s=35398"></p>
<h3 id="è„šæ‰‹æ¶å‡çº§ä¸ä¼˜åŒ–"><a href="#è„šæ‰‹æ¶å‡çº§ä¸ä¼˜åŒ–" class="headerlink" title="è„šæ‰‹æ¶å‡çº§ä¸ä¼˜åŒ–"></a>è„šæ‰‹æ¶å‡çº§ä¸ä¼˜åŒ–</h3><p>æˆ‘ä»¬ç›®å‰åœ¨ç”¨webpack 4.0 å’Œ vue-cli3.0ï¼Œç¼–è¯‘å¾ˆå¿«ï¼Œå»ºè®®å‡çº§ï¼Œè®°å¾—ä¹‹å‰é¡¹ç›®ç”¨vue-cli2.0ç¼–è¯‘å’Œæ‰“åŒ…æ—¶é—´å¾ˆé•¿ã€‚</p>
<h3 id="Ajaxå…¨å±€è®¾ç½®"><a href="#Ajaxå…¨å±€è®¾ç½®" class="headerlink" title="Ajaxå…¨å±€è®¾ç½®"></a>Ajaxå…¨å±€è®¾ç½®</h3><p>åŸæ¥é¡¹ç›®é‡Œç”¨çš„æ˜¯<code>jQuery.ajax</code>æ–¹æ³•ï¼Œå…¶å®ä¹Ÿå¯ä»¥å…¨å±€è®¾ç½®æ‹¦æˆªï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯<code>axios</code>ï¼Œåœ¨<code>main.js</code>ä¸­å¼•ç”¨ï¼Œè®¾ç½®<strong>æ ¹è·¯å¾„ã€çŠ¶æ€ç ã€tokenã€è¶…æ—¶æ—¶é—´</strong>ç­‰å…¨å±€è®¾ç½®ï¼Œä»£ç å¦‚ä¸‹:</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; å¼•å…¥axios
import axios from &#39;axios&#39;
&#x2F;&#x2F; axiosé…ç½®
Vue.prototype.$http &#x3D; axios

&#x2F;&#x2F; é…ç½®é»˜è®¤axioså‚æ•°
axios.defaults.baseURL &#x3D; &#39;&#x2F;&#39;
axios.defaults.timeout &#x3D; 1000000
axios.defaults.headers.post[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;x-www-form-urlencoded;charset&#x3D;UTF-8&#39;

&#x2F;&#x2F; æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨
axios.interceptors.request.use(function (config) &#123;
  let token &#x3D; localStorage.getItem(&#39;token&#39;)
  if(token&#x3D;&#x3D; null &amp;&amp; router.currentRoute.path &#x3D;&#x3D; &#39;&#x2F;login&#39;)&#123;&#x2F;&#x2F; æœ¬åœ°æ— token,ä¸ä¸ºç™»å½• è·³è½¬è‡³ç™»å½•é¡µé¢
    router.push(&#39;&#x2F;login&#39;)
  &#125;else&#123;
    if(config.data&#x3D;&#x3D;undefined)&#123;
      config.data &#x3D; &#123;
        &quot;token&quot;:token
      &#125;
    &#125;else&#123;
      Object.assign(config.data,&#123;&quot;token&quot;:token&#125;)
    &#125;

  &#125;
  return config
&#125;, function (error) &#123;
  iView.Message.error(&#39;è¯·æ±‚å¤±è´¥&#39;)
  return Promise.reject(error)
&#125;)

&#x2F;&#x2F; è¿”å›ç»“æœæ‹¦æˆª
axios.interceptors.response.use(function (response) &#123;
  if(response.hasOwnProperty(&quot;data&quot;) &amp;&amp; typeof response.data &#x3D;&#x3D; &quot;object&quot;)&#123;
      if(response.data.code &#x3D;&#x3D;&#x3D; 998)&#123;&#x2F;&#x2F; ç™»å½•è¶…æ—¶ è·³è½¬è‡³ç™»å½•é¡µé¢
          iView.Message.error(response.data.msg)
          router.push(&#39;&#x2F;login&#39;)
          return Promise.reject(response)
      &#125;else if (response.data.code &#x3D;&#x3D;&#x3D; 1000) &#123;&#x2F;&#x2F; æˆåŠŸ
        return Promise.resolve(response)
      &#125;
  &#125; else &#123;
    return Promise.resolve(response)
  &#125;

&#125;, function (error) &#123;
  &#x2F;&#x2F; è¯·æ±‚å–æ¶ˆ ä¸å¼¹å‡º
  if(error.message !&#x3D; &#39;0000&#39;)&#123;
    iView.Message.error(&#39;è¯·æ±‚å¤±è´¥&#39;)
  &#125;

  &#x2F;&#x2F; è¯·æ±‚é”™è¯¯æ—¶åšäº›äº‹
  return Promise.reject(error)
&#125;)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¼‚æ­¥æ“ä½œä¸æ•°æ®éå†"><a href="#å¼‚æ­¥æ“ä½œä¸æ•°æ®éå†" class="headerlink" title="å¼‚æ­¥æ“ä½œä¸æ•°æ®éå†"></a>å¼‚æ­¥æ“ä½œä¸æ•°æ®éå†</h3><p>åŸæ¥çš„é¡¹ç›®æ˜¯ä¿é™©é¡¹ç›®ï¼Œå¤§å®¶æ²¡æœ‰å‰åç«¯åˆ†ç¦»çš„ä¸šåŠ¡ç³»ç»Ÿç»éªŒï¼Œéƒ½æ˜¯<strong>æœ€åŸºç¡€çš„æ¥å£</strong>ï¼Œä¸€ä¸ªä¸€ä¸ªæ¥å£éƒ½æ˜¯ä»æ•°æ®å­—å…¸ä¸­å–å‡ºï¼Œä¸šåŠ¡é€»è¾‘å¾€å‰ç«¯ç§»ï¼Œ<strong>å¯¼è‡´å‰ç«¯æœ‰å¾ˆå¤šçš„ä¸²è¡Œã€å¹¶è¡Œçš„å¼‚æ­¥æ“ä½œ</strong>ï¼Œè¯·æ±‚å„ç§æ¥å£ï¼Œç„¶åéå†åˆå¹¶å„ç§æ•°æ®ï¼Œä¸²è¡Œå¹¶è¡Œæˆ‘ä»¬ç”¨<code>promise</code>å†™ï¼Œå¼‚æ­¥æ“ä½œçš„é—®é¢˜å°±è§£å†³äº†ï¼Œæ•°æ®çš„æ“ä½œæˆ‘ä»¬ç”¨<code>lodash.js</code>ï¼Œæ•ˆç‡æ¯”æ‰‹å†™å¿«ï¼Œè¿™ä¸¤å—å¯ä»¥åŠ æ·±ä¸€ä¸‹ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">initializationTab(obj)&#123;
    let This &#x3D; this
    return new Promise((resolve, reject) &#x3D;&gt; &#123;
        This.$http
            .post(&#39;&#x2F;api&#x2F;show&#x2F;ograde-header&#39;,obj)
            .then(function(response) &#123;
              return resolve(response.data.datas)
            &#125;)
            .catch(function(error) &#123;

                &#x2F;&#x2F;æ•°æ®ä¸¢å¤±çš„çŠ¶æ€
                This.isContent&#x3D;false   &#x2F;&#x2F;æ˜¯å¦å±•ç¤ºåŠ è½½åå†…å®¹
                This.isLoading&#x3D;false   &#x2F;&#x2F;æ˜¯å¦å±•ç¤ºloading
                This.isContentError&#x3D;true 
                This.isReady &#x3D; false &#x2F;&#x2F;æ˜¯å¦å±•ç¤ºæ•°æ®å‡†å¤‡ä¸­çŠ¶æ€
                reject(error)
            &#125;);
    &#125;)
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h3><p>åŸæ¥é¡¹ç›®ç™»å½•æ˜¯è·³è½¬åˆ°jspç™»å½•é¡µé¢ï¼Œç„¶åå†è·³å›é™æ€é¡µé¢ï¼Œ<code>sessionID</code>å°±å­˜åˆ°<code>cookie</code>é‡Œäº†ï¼Œå»ºç«‹ä¼šè¯ï¼Œ<strong>ä¹Ÿå¯ä»¥<code>Form</code>æäº¤åšç™»å½•ï¼Œ</strong> æ­£å¸¸èµ°æ¥å£ï¼Œä¹Ÿä¼šåœ¨<code>cookie</code>é‡Œå­˜ä¸Š<code>sessionID</code>å»ºç«‹ä¼šè¯ã€‚</p>
<p>å½“ç„¶å‰åç«¯åˆ†ç¦»æœ€å¥½ç”¨<code>JWT</code>æ–¹æ¡ˆï¼ŒæŠŠç”Ÿæˆçš„<code>token</code>æ”¾åœ¨<code>redis</code>é‡Œï¼Œå»ºç«‹<code>äº‹åŠ¡</code>,<code>token</code>è¿‡æœŸåè‡ªåŠ¨åˆ é™¤ï¼Œ<strong>å¦‚æœ‰æå‰é€€å‡ºï¼Œåˆ™ç»™æ”¹<code>token</code>æ‰“ä¸Šæ ‡è¯†ï¼Œä¸é€šè¿‡è¯¥<code>token</code>é€šè¿‡å³å¯</strong>ï¼Œ<strong>ç»­ç­¾ä¹Ÿå¥½è§£å†³</strong>ï¼Œåœ¨å¦‚æœ<code>token</code>åœ¨åˆ°æœŸ5åˆ†é’Ÿå‰è®¿é—®ï¼Œåˆ™ç”Ÿæˆæ–°<code>token</code>è¿”å›ç»™å‰ç«¯ï¼Œç»™å³å°†è¿‡æœŸçš„<code>token</code>æ‰“ä¸Šæ ‡è¯†ï¼Œåˆ°æœŸåè‡ªåŠ¨åˆ é™¤ã€‚</p>
<h3 id="H5åŠ¨ç”»"><a href="#H5åŠ¨ç”»" class="headerlink" title="H5åŠ¨ç”»"></a>H5åŠ¨ç”»</h3><p>æˆ‘ä»¬H5åŠ¨ç”»åšäº†å¾ˆå¤šå°è¯•ï¼Œæ°‘ç”Ÿé“¶è¡Œçš„è“ç²¾çµä¸»é¢˜ã€ç§Ÿæˆ¿åˆ†æœŸã€æ‹›è˜3Dã€æ¶ˆæ¶ˆä¹ç­‰ï¼Œåœ¨é€‚é…ã€æ—¶é—´è½´ã€ç²¾çµå›¾ã€åŠ¨ç”»æ€§èƒ½ç­‰æ–¹é¢æœ‰äº†ä¸€å®šç§¯ç´¯ï¼Œç¬”è®°å¤­æŠ˜åœ¨æˆ‘çš„MWebç¼–è¾‘å™¨é‡Œï¼Œå¦‚æœåè¾¹æœ‰æ—¶é—´å†æ›´æ–°å‡ºæ¥å§ã€‚</p>
<p>ä¹‹å‰è“ç²¾çµåŠ¨ç”»éœ€æ±‚ç”¨çš„<code>TweenMax.js</code>å’Œ<code>gka</code>ç”Ÿæˆçš„csså¸§åŠ¨ç”»åšäº†é‚£ä¹ˆå¤æ‚çš„ä¸€ä¸ªæ•ˆæœï¼Œæ€§èƒ½ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œæ¯•ç«Ÿæ“ä½œçš„æ˜¯DOMï¼Œå¦‚æœåŠ¨ç”»éœ€æ±‚è¿˜å¤šï¼Œå°±å¤šç†Ÿæ‚‰ç†Ÿæ‚‰<code>PIXI.js+TweenMax.js</code>ä¸¤ä¸ªå·¥å…·å§ï¼Œæˆ‘åˆšç”¨å®ƒä»¬åšäº†ä¸€ä¸ªéœ€æ±‚ï¼Œ<code>PIXI.js</code>æœ‰åŠ è½½å™¨ã€ç²¾çµå›¾ã€æ»¤é•œã€ç‰©ç†å¼•æ“ã€éŸ³è§†é¢‘ç­‰å¥½å¤šè¾…åŠ©å·¥å…·ï¼ŒåŸºæœ¬å¯ä»¥å®ç°å¤§éƒ¨åˆ†æˆ‘ä»¬åœ¨æœ‹å‹åœˆçœ‹åˆ°çš„H5æ•ˆæœï¼Œ<code>PIXI.js</code>æ”¯æŒ<code>canvas</code>å’Œ<code>webGL</code>ä¸¤ç§æ¸²æŸ“ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/24/1687bd5f866be363?w=483&h=269&f=gif&s=2014168"></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/24/1687be36bb53bac3?w=493&h=263&f=gif&s=4394991"></p>
<h3 id="é€šè¯»API"><a href="#é€šè¯»API" class="headerlink" title="é€šè¯»API"></a>é€šè¯»API</h3><p>æœ€æ–°çš„é¡¹ç›®æ˜¯è‡ªå·±æ­å»ºçš„vueæ¶å­ï¼ŒåŠŸèƒ½å’Œåœºæ™¯ä¹Ÿæ…¢æ…¢å¤æ‚èµ·æ¥ï¼Œè¿˜æ˜¯è¦å¤šçœ‹apiå’Œæ–‡æ¡£ï¼Œå¤šäº†è§£åŸç†ï¼Œæ‰èƒ½æ¸¸åˆƒæœ‰ä½™çš„ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œé«˜æ•ˆçš„å®Œæˆå¼€å‘ä»»åŠ¡ï¼Œæ¯”å¦‚vueçš„ç»„ä»¶é€’å½’ã€ç¼“å­˜ã€å¼ºåˆ¶åˆ·æ–°ã€æ··å…¥ã€è¿‡æ»¤å™¨ï¼ŒAxiosçš„é»˜è®¤é…ç½®ã€CancelTokenç­‰ç­‰ï¼Œæœ€è¿‘çš„é¡¹ç›®ç¬”è®°æ€»ç»“è¿˜æ²¡æœ‰å†™å®Œï¼Œå…ˆæŠŠç›®å½•è´´å‡ºæ¥ï¼ŒæœŸæœ›è¿›æ­¥å§ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/24/1687bf0c6a18e16a?w=992&h=1024&f=png&s=225533"></p>
<p>å¦‚æœä½ ä»¬è¿˜åœ¨ä»äº‹å‰ç«¯ï¼Œç›¸å¿˜äºæ±Ÿæ¹–å§ğŸ¤£ğŸ˜‚ã€‚</p>

  <p> â€” 2021å¹´7æœˆ4æ—¥</p>
  


          <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith" style="color: #c7c7c7;">é™æ°´æµæ·±ï¼Œé—»å–§äº«é™ã€‚ç©ºå±±é¸£å“ï¼Œè§æƒ¯å¸ç©ºã€‚
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/nihaojob" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
